# 外部接入-方式一

- 方式一描述：对于现有项目中已有业务，或者新增业务需要用到工作流程的，可以采用这种方式。

- 简介：外部接入，故名思意：Antflow 作为工作流引擎项目（前端，后端）单独部署，提供 Api 接口给外部系统，外部系统通过调用接口，将业务数据提交到 Antflow 中进行审批处理。

  - Antflow 项目中操作：
  - - 第一步：新增：流程管理->流程类型->新增
  - - 第二步：设计：流程管理->流程类型->点击【流程设计】
      <font color='red'> 设计时请注意：表单设计要与现有业务表单一致，用于审批流程中预览表单 </font>
  - - 第三步：启用：流程管理->流程设计->版本管理->点击【启用】

  - 现有外部业务系统中：
  - - 第四步：在现有项目中 业务表单新增时候调用 Antflow 的发起流程接口，如下：

    ```
    接口名称 /bpmnConf/process/buttonsOperation

    参数：
    {
        formCode: "LEAVETEST", //流程设计的流程类型
        lfFields: form,        //表单字段json
        isLowCodeFlow: true,   //常量:低代码表单标识
        operationType: 1,      //常量:代表流程发起
        userId: '1',//uaserid发起人id
    }

    ```

  - 优点：操作简单，快速。只需要调用一个 发起接口即可接入 Antflow.
  - 缺点：需要单独部署 Antflow 前后端，现有项目不能看到审批状态。

# 外部接入-方式二

- 方式二描述：对于现有项目中已有业务，或者新增业务需要用到工作流程的，可以采用这种方式。**参考 Demo 地址：若依接入 Antflow** [预览入口](http://14.103.207.27/ruoyi/)

- 简介：与方式一不同之处，方式二将 <font color='red'>流程管理(流程类型，流程设计)，任务中心（我的发起，代办任务，已办任务），流程中心</font>。这几个前端页面 集成到现有业务系统中。
  关于工作流程相关的接口，Antflow 后端项目单独部署。

- 现有业务接入工作流：
  业务表单新增时候调用 Antflow 的发起流程接口（同方式一），如下：

  ```
  接口名称 /bpmnConf/process/buttonsOperation

  参数：
  {
    formCode: "LEAVETEST", //流程设计的流程类型
    lfFields: form, //表单字段 json
    isLowCodeFlow: true, //常量:低代码表单标识
    operationType: 1, //常量:代表流程发起
    userId: '1',//uaserid 发起人 id
  }

  ```

- 现有业务系统，有新增的业务就可以完全使用低代码模式，流程设计时候，直接设计表单，流程设计完成后，在流程中心，找到对应的流程进行发起。

- 优点：
- - 流程设计到流程审批完全都在现有业务系统中操作。
- - Antflow 后端项目可以通过 starter 方式集成到项目中，不用单独部署。

- 缺点：需要集成几个前端页面，增加了工作流。

# 外部接入-方式三

- 方式三描述：对于现有项目中已有业务，或者新增业务需要用到工作流程的，可以采用这种方式。

- 简介：与方式一和方式二，不同之处在于，Antflow 单独部署（前端，后端），人员和角色，审批状态等数据交互完全通过 Api 方式进行交互，现有业务系统可以查看业务表单审批状态。
